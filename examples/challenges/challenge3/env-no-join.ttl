@prefix : <https://openprovenance.org/ns/facet/dsf#> .
@prefix sdc: <https://openprovenance.org/ns/facet/sdc#> .
@prefix base: <https://openprovenance.org/ns/facet/base#> .
@prefix app: <https://example.org/medical#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

# ============================================================================
# MEDICAL GOVERNANCE SCOPE
# ============================================================================

app:MedicalGovernanceScope a :GovernanceScope ;
    rdfs:comment "Primary governance scope for medical data compliance" .

# Medical Database
app:MedicalDB a sdc:Database ;
    sdc:hasTables app:PatientInfo, app:PatientEncounters, app:PatientTreatments ;
    :hasTag base:Healthcare .

# Medical scope availability declarations
app:MedicalDB :availableInScope app:MedicalGovernanceScope .
app:PatientInfo :availableInScope app:MedicalGovernanceScope .
app:PatientEncounters :availableInScope app:MedicalGovernanceScope .
app:PatientTreatments :availableInScope app:MedicalGovernanceScope .

# Joinable relationships within clinical system
app:PatientInfo :joinableWith app:PatientEncounters .
app:PatientInfo :joinableWith app:PatientTreatments .
app:PatientEncounters :joinableWith app:PatientTreatments .

# ============================================================================
# HUMAN RESOURCES GOVERNANCE SCOPE
# ============================================================================

app:HumanResourcesScope a :GovernanceScope ;
    rdfs:comment "Governance scope for human resources data" .

# Employee Database Structure (HR System)
app:EmployeeDB a sdc:Database ;
    sdc:hasTables app:ProvidersInfo .

# Human resources scope availability declarations
app:EmployeeDB :availableInScope app:HumanResourcesScope .
app:ProvidersInfo :availableInScope app:HumanResourcesScope .

# ============================================================================
# RESEARCH GOVERNANCE SCOPE
# ============================================================================

app:ResearchScope a :GovernanceScope ;
    rdfs:comment "Governance scope for research activities combining medical and employee data" .

# Research Database - for joined/combined datasets
app:ResearchDB a sdc:Database ;
    rdfs:comment "Database for research analysis combining multiple data sources" .

# Research scope availability declarations
# Research scope has access to both employee and patient data for analysis
app:ResearchDB :availableInScope app:ResearchScope .
app:MedicalDB :availableInScope app:ResearchScope .
app:EmployeeDB :availableInScope app:ResearchScope .

# ============================================================================
# CROSS-SYSTEM JOINABLE RELATIONSHIPS - REMOVED FOR CHALLENGE 3
# ============================================================================

# REMOVED: app:ProvidersInfo :joinableWith app:PatientEncounters .
# REMOVED: app:ProvidersInfo :joinableWith app:PatientTreatments .

# Without these joinable relationships, PHI should NOT propagate from 
# PatientEncounters/PatientTreatments to ProvidersInfo